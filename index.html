<!DOCTYPE html>
<html>
<body>

<h2>iPentifier</h2>

<p>Please input the IP you would want to know about:</p>

IP Address: <input id="ip">
<br>Subnet Mask: /<input id="mask"><br>
<button type="button" onclick="process_ip()">Submit</button>

<p id="ip_validation"></p>
<p id="mask_class"></p>


<script>
    function process_ip() {
        var ip, mask; //input

        // Get the value of the input field
        ip = document.getElementById("ip").value;
        mask = document.getElementById("mask").value;

        if (validate_ip(ip) && class_check(mask)) {
            identify_max_min();
        }
    }

    function validate_ip(ip) {
        var ip_array, mask;
        ip_array = ip.split(".");

        // If each segment is Not a Number or less than 0 or greater than 255
        if (validate_seg(ip_array[0]) && validate_seg(ip_array[1]) && validate_seg(ip_array[2]) && validate_seg(ip_array[3])) {
            document.getElementById("ip_validation").innerHTML = "IP OK";
            return true;
        } else {
            document.getElementById("ip_validation").innerHTML = "IP is invalid";
            return false;
        }
    }
    
    function validate_seg(seg) {
        if (seg > 0 || seg < 256) {
            return true;
        }
        return false;
    }

    function class_check(subnet) {
        var class_result;

        if (isNaN(subnet) && !validate_seg(subnet)) {
            class_result = parse('%s is not a valid mask', subnet);
        } else {
            if (subnet <= 8) {
                class_result = parse("/%s is a Class A subnet.", subnet);
            } else if (subnet <= 16) {
                class_result = parse("/%s is a Class B subnet.", subnet);
            } else if (subnet <= 24) {
                class_result = parse("/%s is a Class C subnet.", subnet);
            } else {
                class_result = parse("/%s is a Class D subnet.", subnet);
            }

            document.getElementById("mask_class").innerHTML = class_result;
        }
    }
    
    function identify_max_min() {
        //TODO: need to work on logic
    }
</script>

</body>
</html> 
