<!DOCTYPE html>
<html>
<head>
	<title>Sharon Leung's Toolbox</title>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<style>
		body {
			font-family: Arial;
			margin: 0;
		}
		.header {
			padding: 60px;
			text-align: center;
			background: #1abc9c;
			color: white;
			font=size: 30px;
		}
		
		.content {padding:20px;}
	</style>
</head>

<body>
<div class="header">
	<h1>iPentifier</h1>
	<p>Sharon's toolbox</p>
</div>

<div class="content">
	<h1>Please put in the IP and subnet mask you would want to know about:</h1>
	<p>IP Address: <input id="ip">
		<br>Subnet Mask: /<input id="mask">
	</p>
	<button type="button" onclick="process_ip()">Submit</button>

<span id="ip_validation"></span>
/<span id="mask_value"></span> <span id="mask_classification"></span>


<script>
    function process_ip() {
        var ip, mask; //input

        // Get the value of the input field
        ip = document.getElementById("ip").value;
        mask = document.getElementById("mask").value;

        if (validate_ip(ip) && class_check(mask)) {
            identify_max_min();
        }
    }

    function validate_ip(ip) {
        var ip_array, mask;
        ip_array = ip.split(".");

        // If each segment is Not a Number or less than 0 or greater than 255
        if (validate_seg(ip_array[0]) && validate_seg(ip_array[1]) && validate_seg(ip_array[2]) && validate_seg(ip_array[3])) {
            document.getElementById("ip_validation").innerHTML = "IP OK";
            return true;
        } else {
            document.getElementById("ip_validation").innerHTML = "IP is invalid";
            return false;
        }
    }

    function validate_seg(seg) {
        if (seg > 0 || seg < 256) {
            return true;
        }
        return false;
    }

    function class_check(subnet) {
        var class_result;

        document.getElementById("mask_value").innerHTML = subnet;
        if (isNaN(subnet) && !validate_seg(subnet)) {
            class_result = "is not a valid mask";
        } else {
            if (subnet <= 8) {
                class_result = "is a Class A subnet.";
            } else if (subnet <= 16) {
                class_result = "is a Class B subnet.";
            } else if (subnet <= 24) {
                class_result = "is a Class C subnet.";
            } else {
                class_result = "is a Class D subnet.";
            }
            
            document.getElementById("mask_classification").innerHTML = class_result;
        }
    }

    function identify_max_min() {
        //TODO: need to work on logic
    }
</script>

</body>
</html> 
